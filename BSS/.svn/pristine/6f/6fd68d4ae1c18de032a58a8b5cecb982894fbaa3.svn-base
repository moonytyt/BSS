<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ddit.BoardReq.dao.ReqboardDAO">
	
	<select id="selectTotalRecord" parameterType="kr.or.ddit.vo.PaginationInfo">
		SELECT COUNT(*)
		FROM REQ_BOARD
	</select>
	<select id="selectReqList" resultType="kr.or.ddit.BoardReq.vo.ReqboardVO" parameterType="kr.or.ddit.vo.PaginationInfo">
		WITH ORDEREDNTC AS (
		    SELECT ROWNUM RNUM, A.*
		    FROM (
		        SELECT
		        	EMP_CD, REQ_NO, REQ_TTL, REQ_DT
		        FROM REQ_BOARD
		       	ORDER BY ROWID DESC
		    ) A
		)
		SELECT *
		FROM ORDEREDNTC
		WHERE RNUM BETWEEN #{startRow} AND #{endRow}
	</select>
	<select id="selectReq" parameterType="kr.or.ddit.BoardReq.vo.ReqboardVO">
		SELECT
			REQ_DT, REQ_TTL, <!--EMP_CO,  --> REQ_CN
		FROM REQ_BOARD WHERE REQ_NO = #{reqNo}
	</select>
</mapper>